(()=>{"use strict";var n={582:(n,t,e)=>{e.d(t,{Z:()=>f});var r=e(645),o=e.n(r),i=e(667),a=e.n(i),c=e(354),s=o()((function(n){return n[1]})),u=a()(c);s.push([n.id,"body {\n  text-align: center;\n  background-color: #000;\n}\n.title {\n  color: #f00;\n  user-select: none;\n}\n#fps {\n  position: absolute;\n  top: 5px;\n  right: 5px;\n  color: #fff;\n  user-select: none;\n}\n#c1 {\n  background-image: url("+u+");\n  background-repeat: no-repeat;\n}\n",""]);const f=s},735:(n,t,e)=>{e.d(t,{Z:()=>i});var r=e(645),o=e.n(r)()((function(n){return n[1]}));o.push([n.id,'/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */\n\n/* Document\n   ========================================================================== */\n\n/**\n * 1. Correct the line height in all browsers.\n * 2. Prevent adjustments of font size after orientation changes in iOS.\n */\n\nhtml {\n  line-height: 1.15; /* 1 */\n  -webkit-text-size-adjust: 100%; /* 2 */\n}\n\n/* Sections\n   ========================================================================== */\n\n/**\n * Remove the margin in all browsers.\n */\n\nbody {\n  margin: 0;\n}\n\n/**\n * Render the `main` element consistently in IE.\n */\n\nmain {\n  display: block;\n}\n\n/**\n * Correct the font size and margin on `h1` elements within `section` and\n * `article` contexts in Chrome, Firefox, and Safari.\n */\n\nh1 {\n  font-size: 2em;\n  margin: 0.67em 0;\n}\n\n/* Grouping content\n   ========================================================================== */\n\n/**\n * 1. Add the correct box sizing in Firefox.\n * 2. Show the overflow in Edge and IE.\n */\n\nhr {\n  box-sizing: content-box; /* 1 */\n  height: 0; /* 1 */\n  overflow: visible; /* 2 */\n}\n\n/**\n * 1. Correct the inheritance and scaling of font size in all browsers.\n * 2. Correct the odd `em` font sizing in all browsers.\n */\n\npre {\n  font-family: monospace, monospace; /* 1 */\n  font-size: 1em; /* 2 */\n}\n\n/* Text-level semantics\n   ========================================================================== */\n\n/**\n * Remove the gray background on active links in IE 10.\n */\n\na {\n  background-color: transparent;\n}\n\n/**\n * 1. Remove the bottom border in Chrome 57-\n * 2. Add the correct text decoration in Chrome, Edge, IE, Opera, and Safari.\n */\n\nabbr[title] {\n  border-bottom: none; /* 1 */\n  text-decoration: underline; /* 2 */\n  text-decoration: underline dotted; /* 2 */\n}\n\n/**\n * Add the correct font weight in Chrome, Edge, and Safari.\n */\n\nb,\nstrong {\n  font-weight: bolder;\n}\n\n/**\n * 1. Correct the inheritance and scaling of font size in all browsers.\n * 2. Correct the odd `em` font sizing in all browsers.\n */\n\ncode,\nkbd,\nsamp {\n  font-family: monospace, monospace; /* 1 */\n  font-size: 1em; /* 2 */\n}\n\n/**\n * Add the correct font size in all browsers.\n */\n\nsmall {\n  font-size: 80%;\n}\n\n/**\n * Prevent `sub` and `sup` elements from affecting the line height in\n * all browsers.\n */\n\nsub,\nsup {\n  font-size: 75%;\n  line-height: 0;\n  position: relative;\n  vertical-align: baseline;\n}\n\nsub {\n  bottom: -0.25em;\n}\n\nsup {\n  top: -0.5em;\n}\n\n/* Embedded content\n   ========================================================================== */\n\n/**\n * Remove the border on images inside links in IE 10.\n */\n\nimg {\n  border-style: none;\n}\n\n/* Forms\n   ========================================================================== */\n\n/**\n * 1. Change the font styles in all browsers.\n * 2. Remove the margin in Firefox and Safari.\n */\n\nbutton,\ninput,\noptgroup,\nselect,\ntextarea {\n  font-family: inherit; /* 1 */\n  font-size: 100%; /* 1 */\n  line-height: 1.15; /* 1 */\n  margin: 0; /* 2 */\n}\n\n/**\n * Show the overflow in IE.\n * 1. Show the overflow in Edge.\n */\n\nbutton,\ninput { /* 1 */\n  overflow: visible;\n}\n\n/**\n * Remove the inheritance of text transform in Edge, Firefox, and IE.\n * 1. Remove the inheritance of text transform in Firefox.\n */\n\nbutton,\nselect { /* 1 */\n  text-transform: none;\n}\n\n/**\n * Correct the inability to style clickable types in iOS and Safari.\n */\n\nbutton,\n[type="button"],\n[type="reset"],\n[type="submit"] {\n  -webkit-appearance: button;\n}\n\n/**\n * Remove the inner border and padding in Firefox.\n */\n\nbutton::-moz-focus-inner,\n[type="button"]::-moz-focus-inner,\n[type="reset"]::-moz-focus-inner,\n[type="submit"]::-moz-focus-inner {\n  border-style: none;\n  padding: 0;\n}\n\n/**\n * Restore the focus styles unset by the previous rule.\n */\n\nbutton:-moz-focusring,\n[type="button"]:-moz-focusring,\n[type="reset"]:-moz-focusring,\n[type="submit"]:-moz-focusring {\n  outline: 1px dotted ButtonText;\n}\n\n/**\n * Correct the padding in Firefox.\n */\n\nfieldset {\n  padding: 0.35em 0.75em 0.625em;\n}\n\n/**\n * 1. Correct the text wrapping in Edge and IE.\n * 2. Correct the color inheritance from `fieldset` elements in IE.\n * 3. Remove the padding so developers are not caught out when they zero out\n *    `fieldset` elements in all browsers.\n */\n\nlegend {\n  box-sizing: border-box; /* 1 */\n  color: inherit; /* 2 */\n  display: table; /* 1 */\n  max-width: 100%; /* 1 */\n  padding: 0; /* 3 */\n  white-space: normal; /* 1 */\n}\n\n/**\n * Add the correct vertical alignment in Chrome, Firefox, and Opera.\n */\n\nprogress {\n  vertical-align: baseline;\n}\n\n/**\n * Remove the default vertical scrollbar in IE 10+.\n */\n\ntextarea {\n  overflow: auto;\n}\n\n/**\n * 1. Add the correct box sizing in IE 10.\n * 2. Remove the padding in IE 10.\n */\n\n[type="checkbox"],\n[type="radio"] {\n  box-sizing: border-box; /* 1 */\n  padding: 0; /* 2 */\n}\n\n/**\n * Correct the cursor style of increment and decrement buttons in Chrome.\n */\n\n[type="number"]::-webkit-inner-spin-button,\n[type="number"]::-webkit-outer-spin-button {\n  height: auto;\n}\n\n/**\n * 1. Correct the odd appearance in Chrome and Safari.\n * 2. Correct the outline style in Safari.\n */\n\n[type="search"] {\n  -webkit-appearance: textfield; /* 1 */\n  outline-offset: -2px; /* 2 */\n}\n\n/**\n * Remove the inner padding in Chrome and Safari on macOS.\n */\n\n[type="search"]::-webkit-search-decoration {\n  -webkit-appearance: none;\n}\n\n/**\n * 1. Correct the inability to style clickable types in iOS and Safari.\n * 2. Change font properties to `inherit` in Safari.\n */\n\n::-webkit-file-upload-button {\n  -webkit-appearance: button; /* 1 */\n  font: inherit; /* 2 */\n}\n\n/* Interactive\n   ========================================================================== */\n\n/*\n * Add the correct display in Edge, IE 10+, and Firefox.\n */\n\ndetails {\n  display: block;\n}\n\n/*\n * Add the correct display in all browsers.\n */\n\nsummary {\n  display: list-item;\n}\n\n/* Misc\n   ========================================================================== */\n\n/**\n * Add the correct display in IE 10+.\n */\n\ntemplate {\n  display: none;\n}\n\n/**\n * Add the correct display in IE 10.\n */\n\n[hidden] {\n  display: none;\n}\n',""]);const i=o},645:n=>{n.exports=function(n){var t=[];return t.toString=function(){return this.map((function(t){var e=n(t);return t[2]?"@media ".concat(t[2]," {").concat(e,"}"):e})).join("")},t.i=function(n,e,r){"string"==typeof n&&(n=[[null,n,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var c=0;c<n.length;c++){var s=[].concat(n[c]);r&&o[s[0]]||(e&&(s[2]?s[2]="".concat(e," and ").concat(s[2]):s[2]=e),t.push(s))}},t}},667:n=>{n.exports=function(n,t){return t||(t={}),"string"!=typeof(n=n&&n.__esModule?n.default:n)?n:(/^['"].*['"]$/.test(n)&&(n=n.slice(1,-1)),t.hash&&(n+=t.hash),/["'() \t\n]/.test(n)||t.needQuotes?'"'.concat(n.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):n)}},695:n=>{var t={};n.exports=function(n){if(void 0===t[n]){var e=document.querySelector(n);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(n){e=null}t[n]=e}return t[n]}},379:n=>{var t=[];function e(n){for(var e=-1,r=0;r<t.length;r++)if(t[r].identifier===n){e=r;break}return e}function r(n,r){for(var i={},a=[],c=0;c<n.length;c++){var s=n[c],u=r.base?s[0]+r.base:s[0],f=i[u]||0,l="".concat(u," ").concat(f);i[u]=f+1;var h=e(l),p={css:s[1],media:s[2],sourceMap:s[3]};-1!==h?(t[h].references++,t[h].updater(p)):t.push({identifier:l,updater:o(p,r),references:1}),a.push(l)}return a}function o(n,t){var e=t.domAPI(t);return e.update(n),function(t){if(t){if(t.css===n.css&&t.media===n.media&&t.sourceMap===n.sourceMap)return;e.update(n=t)}else e.remove()}}n.exports=function(n,o){var i=r(n=n||[],o=o||{});return function(n){n=n||[];for(var a=0;a<i.length;a++){var c=e(i[a]);t[c].references--}for(var s=r(n,o),u=0;u<i.length;u++){var f=e(i[u]);0===t[f].references&&(t[f].updater(),t.splice(f,1))}i=s}}},216:n=>{n.exports=function(n){var t=document.createElement("style");return n.setAttributes(t,n.attributes),n.insert(t),t}},795:n=>{n.exports=function(n){var t=n.insertStyleElement(n);return{update:function(e){!function(n,t,e){var r=e.css,o=e.media,i=e.sourceMap;o?n.setAttribute("media",o):n.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,n)}(t,n,e)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(t)}}}},354:(n,t,e)=>{n.exports=e.p+"images/game_bg_2_hd.jpg"}},t={};function e(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,exports:{}};return n[r](i,i.exports,e),i.exports}e.n=n=>{var t=n&&n.__esModule?()=>n.default:()=>n;return e.d(t,{a:t}),t},e.d=(n,t)=>{for(var r in t)e.o(t,r)&&!e.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:t[r]})},e.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t),e.p="./",(()=>{var n=e(379),t=e.n(n),r=e(795),o=e.n(r),i=e(695),a=e.n(i),c=e(216),s=e.n(c),u=e(735),f={styleTagTransform:function(n,t){if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}},setAttributes:function(n){var t=e.nc;t&&n.setAttribute("nonce",t)},insert:function(n){var t=a()("head");if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");t.appendChild(n)}};f.domAPI=o(),f.insertStyleElement=s(),t()(u.Z,f),u.Z&&u.Z.locals&&u.Z.locals;var l=e(582),h={styleTagTransform:function(n,t){if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}},setAttributes:function(n){var t=e.nc;t&&n.setAttribute("nonce",t)},insert:function(n){var t=a()("head");if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");t.appendChild(n)}};h.domAPI=o(),h.insertStyleElement=s(),t()(l.Z,h),l.Z&&l.Z.locals&&l.Z.locals;const p={imgs:{}};function y(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}var d=function(n){return n*Math.PI/180},b=function(){},m=function(n,t){if(n>t)throw new Error("M must greater than or equal to m");return Math.floor(Math.random()*(t-n+1)+n)};function v(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function g(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function w(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var O=function(){function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;v(this,n),w(this,"drawRect",void 0),w(this,"width",void 0),w(this,"height",void 0),w(this,"x",void 0),w(this,"y",void 0),w(this,"rotation",void 0),w(this,"speed",void 0),w(this,"scaleX",void 0),w(this,"scaleY",void 0),w(this,"radius",void 0),w(this,"MAX_FRAME",void 0),w(this,"curFrame",void 0),w(this,"frameRate",void 0),w(this,"frameRateNow",void 0),this.drawRect=t,this.width=t.sw,this.height=t.sh,this.x=e,this.y=r,this.rotation=o,this.speed=0,this.curFrame=0,this.MAX_FRAME=0,this.scaleX=1,this.scaleY=1,this.frameRate=1,this.frameRateNow=0,this.radius=0}var t,e;return t=n,(e=[{key:"inRect",value:function(n,t){return n>=this.x-this.width/2&&n<=this.x+this.width/2&&t>=this.y-this.height/2&&t<=this.y+this.height/2}},{key:"setDrawRect",value:function(n){this.drawRect=n,this.width=n.sw,this.height=n.sh}},{key:"draw",value:function(n){n.save(),n.translate(this.x,this.y),n.rotate(d(this.rotation)),n.scale(this.scaleX,this.scaleY),n.drawImage(this.drawRect.img,this.drawRect.sx,this.drawRect.sy+this.height*this.curFrame,this.width,this.height,-this.width/2,-this.height/2,this.width,this.height),n.restore()}},{key:"move",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(void 0!==n&&void 0!==t)this.x+=(n-this.x)*this.speed/100,this.y+=(t-this.y)*this.speed/100;else{var e=d(this.rotation);this.x=this.x+this.speed*Math.sin(e)/5,this.y=this.y-this.speed*Math.cos(e)/5}}},{key:"nextFrame",value:function(){return this.frameRateNow++,this.frameRateNow===this.frameRate&&(this.frameRateNow=0,this.curFrame++,this.curFrame>=this.MAX_FRAME&&(this.curFrame=0,!0))}},{key:"outOfRect",value:function(n,t,e,r){return this.x<n||this.y<t||this.x>e||this.y>r}},{key:"collTest",value:function(n){return Math.sqrt(Math.pow(this.x-n.x,2)+Math.pow(this.y-n.y,2))<=this.radius+n.radius}}])&&g(t.prototype,e),n}();function x(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function R(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var S=function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;x(this,n),R(this,"img",void 0),R(this,"sx",void 0),R(this,"sy",void 0),R(this,"sw",void 0),R(this,"sh",void 0),this.img=t,this.sx=e,this.sy=r,this.sw=o,this.sh=i};function E(n){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function _(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function j(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function P(n,t,e){return(P="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(n,t,e){var r=function(n,t){for(;!Object.prototype.hasOwnProperty.call(n,t)&&null!==(n=T(n)););return n}(n,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(e):o.value}})(n,t,e||n)}function C(n,t){return(C=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n})(n,t)}function A(n,t){return!t||"object"!==E(t)&&"function"!=typeof t?k(n):t}function k(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function T(n){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function M(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var F=[12,18,15,15,23],z=function(n){!function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&C(n,t)}(a,n);var t,e,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}(),function(){var n,t=T(r);if(o){var e=T(this).constructor;n=Reflect.construct(t,arguments,e)}else n=t.apply(this,arguments);return A(this,n)});function a(n){var t,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;_(this,a);var c=[new S(p.imgs.fish1,0,0,55,37),new S(p.imgs.fish2,0,0,78,64),new S(p.imgs.fish3,0,0,72,56),new S(p.imgs.fish4,0,0,77,59),new S(p.imgs.fish5,0,0,107,122)];return M(k(t=i.call(this,c[n],e,r,o)),"type",void 0),M(k(t),"isDead",void 0),M(k(t),"swingValue",void 0),t.speed=m(1,5),t.MAX_FRAME=4,t.curFrame=0,t.frameRate=10,t.radius=F[n],t.type=n,t.isDead=!1,Math.random()>.7?t.swingValue=.01*m(4,10):t.swingValue=.01*m(0,3),t}return t=a,(e=[{key:"draw",value:function(n){-90===this.rotation&&(this.scaleY=-1),this.rotation-=90,this.isDead&&(this.curFrame+=4),P(T(a.prototype),"draw",this).call(this,n),this.isDead&&(this.curFrame-=4),this.rotation+=90,-90===this.rotation&&(this.scaleY=1)}},{key:"swing",value:function(){this.rotation+=this.swingValue}}])&&j(t.prototype,e),a}(O);function I(n){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function X(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function B(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function D(n,t){return(D=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n})(n,t)}function Y(n,t){return!t||"object"!==I(t)&&"function"!=typeof t?N(n):t}function N(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Z(n){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function L(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var q=function(n){!function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&D(n,t)}(a,n);var t,e,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}(),function(){var n,t=Z(r);if(o){var e=Z(this).constructor;n=Reflect.construct(t,arguments,e)}else n=t.apply(this,arguments);return Y(this,n)});function a(n){var t,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;X(this,a);var c=[new S(p.imgs.cannon1,0,0,74,74),new S(p.imgs.cannon2,0,0,74,76),new S(p.imgs.cannon3,0,0,74,76),new S(p.imgs.cannon4,0,0,74,83),new S(p.imgs.cannon5,0,0,74,85),new S(p.imgs.cannon6,0,0,74,90),new S(p.imgs.cannon7,0,0,74,94)];return L(N(t=i.call(this,c[n],e,r,o)),"type",void 0),L(N(t),"size",void 0),t.size=c,t.type=n,t.MAX_FRAME=5,t}return t=a,(e=[{key:"setType",value:function(n){this.type=n,this.setDrawRect(this.size[n])}}])&&B(t.prototype,e),a}(O);function V(n){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function H(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function U(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function $(n,t){return($=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n})(n,t)}function G(n,t){return!t||"object"!==V(t)&&"function"!=typeof t?J(n):t}function J(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Q(n){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function K(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var W=function(n){!function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&$(n,t)}(a,n);var t,e,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}(),function(){var n,t=Q(r);if(o){var e=Q(this).constructor;n=Reflect.construct(t,arguments,e)}else n=t.apply(this,arguments);return G(this,n)});function a(n,t){var e,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return H(this,a),K(J(e=i.call(this,n,r,o,c)),"drawRectNormal",void 0),K(J(e),"drawRectActive",void 0),K(J(e),"downAtMe",void 0),K(J(e),"onclick",b),e.drawRectNormal=n,e.drawRectActive=t,e.downAtMe=!1,e}return t=a,(e=[{key:"down",value:function(n,t){this.inRect(n,t)?(this.setDrawRect(this.drawRectActive),this.downAtMe=!0):this.downAtMe=!1}},{key:"up",value:function(n,t){this.setDrawRect(this.drawRectNormal),this.inRect(n,t)&&this.downAtMe&&this.onclick&&this.onclick(),this.downAtMe=!1}}])&&U(t.prototype,e),a}(O),nn=106,tn=576;function en(n){return(en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function rn(n,t){return(rn=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n})(n,t)}function on(n,t){return!t||"object"!==en(t)&&"function"!=typeof t?an(n):t}function an(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function cn(n){return(cn=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}var sn=function(n){!function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&rn(n,t)}(o,n);var t,e,r=(t=o,e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}(),function(){var n,r=cn(t);if(e){var o=cn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return on(this,n)});function o(n,t,e,i){var a;!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var c,s,u,f=[new S(p.imgs.bullet,86,0,24,26),new S(p.imgs.bullet,61,0,25,29),new S(p.imgs.bullet,32,36,29,30),new S(p.imgs.bullet,30,82,29,33),new S(p.imgs.bullet,0,82,30,34),new S(p.imgs.bullet,30,0,31,35),new S(p.imgs.bullet,0,44,32,38)];return u=void 0,(s="type")in(c=an(a=r.call(this,f[n],t,e,i)))?Object.defineProperty(c,s,{value:u,enumerable:!0,configurable:!0,writable:!0}):c.type=u,a.type=n,a.speed=30,a.radius=14,a}return o}(O);function un(n){return(un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function fn(n,t){return(fn=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n})(n,t)}function ln(n,t){return!t||"object"!==un(t)&&"function"!=typeof t?function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n):t}function hn(n){return(hn=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}var pn=function(n){!function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&fn(n,t)}(o,n);var t,e,r=(t=o,e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}(),function(){var n,r=hn(t);if(e){var o=hn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ln(this,n)});function o(n,t,e,i){var a;!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var c=[new S(p.imgs.coin1,0,0,60,60),new S(p.imgs.coin2,0,0,60,60)];return(a=r.call(this,c[n],t,e,i)).MAX_FRAME=10,a.speed=10,a}return o}(O);function yn(n){return(yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function dn(n,t){return(dn=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n})(n,t)}function bn(n,t){return!t||"object"!==yn(t)&&"function"!=typeof t?function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n):t}function mn(n){return(mn=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}var vn=function(n){!function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&dn(n,t)}(o,n);var t,e,r=(t=o,e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}(),function(){var n,r=mn(t);if(e){var o=mn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bn(this,n)});function o(n){return function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.call(this,new S(p.imgs.number,0,216,20,24),48+23*n,586,0)}return o}(O);function gn(n){return(gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function wn(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function On(n,t){return(On=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n})(n,t)}function xn(n,t){return!t||"object"!==gn(t)&&"function"!=typeof t?function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n):t}function Rn(n){return(Rn=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}var Sn=function(n){!function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&On(n,t)}(a,n);var t,e,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}(),function(){var n,t=Rn(r);if(o){var e=Rn(this).constructor;n=Reflect.construct(t,arguments,e)}else n=t.apply(this,arguments);return xn(this,n)});function a(n,t,e){var r;!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var o=[new S(p.imgs.web,319,355,116,118),new S(p.imgs.web,0,399,137,142),new S(p.imgs.web,163,355,156,162),new S(p.imgs.web,242,181,180,174),new S(p.imgs.web,0,244,163,155),new S(p.imgs.web,242,0,191,181),new S(p.imgs.web,0,0,242,244)];return(r=i.call(this,o[n],t,e,0)).scaleX=0,r.scaleY=0,r}return t=a,(e=[{key:"scale",value:function(){this.scaleX+=.05,this.scaleY+=.05}}])&&wn(t.prototype,e),a}(O);function En(n){return(En="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function _n(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function jn(n,t){return(jn=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n})(n,t)}function Pn(n,t){return!t||"object"!==En(t)&&"function"!=typeof t?Cn(n):t}function Cn(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function An(n){return(An=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function kn(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var Tn=function(n){!function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&jn(n,t)}(a,n);var t,e,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}(),function(){var n,t=An(r);if(o){var e=An(this).constructor;n=Reflect.construct(t,arguments,e)}else n=t.apply(this,arguments);return Pn(this,n)});function a(n,t,e,r){var o;return function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),kn(Cn(o=i.call(this,new S(p.imgs.coinText,36*n,0,36,49),e+36*t,r,0)),"distX",void 0),kn(Cn(o),"distY",void 0),o.distX=0,o.distY=0,o.speed=5,o}return t=a,(e=[{key:"setDist",value:function(n,t){this.distX=n,this.distY=t}}])&&_n(t.prototype,e),a}(O),Mn=document.querySelector("canvas"),Fn=document.querySelector("audio");if(null===Mn||null===Fn)throw new Error("Canvas or audio not exist");var zn=Mn.getContext("2d"),In=Mn.width,Xn=Mn.height;!function(n,t){for(var e={},r=0,o=0,i=function(){var n,t,i=(n=c[a],t=2,function(n){if(Array.isArray(n))return n}(n)||function(n,t){var e=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var r,o,i=[],a=!0,c=!1;try{for(e=e.call(n);!(a=(r=e.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(n){c=!0,o=n}finally{try{a||null==e.return||e.return()}finally{if(c)throw o}}return i}}(n,t)||function(n,t){if(n){if("string"==typeof n)return y(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?y(n,t):void 0}}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=i[0],u=i[1];o++;var f=new Image;e[s]=f,f.onload=function(){++r===o&&(p.imgs=e,function(){var n=new O(new S(p.imgs.bottom,0,0,765,72),400,Xn-34),t=new q(0,443,568,0),e=new W(new S(p.imgs.bottom,135,75,36,28),new S(p.imgs.bottom,91,75,36,28),371,566);e.onclick=function(){t.type>0?t.setType(t.type-1):t.setType(6)};var r=new W(new S(p.imgs.bottom,47,75,36,28),new S(p.imgs.bottom,3,75,36,28),516,566);r.onclick=function(){t.type<6?t.setType(t.type+1):t.setType(0)};for(var o=[],i=[],a=!1,c=[],s=0,u=[],f=0;f<6;f++)u.push(new vn(f));var l=[],h=[],y=60,d=0,b=document.getElementById("fps");!function(){if(null===Mn)throw new Error("Canvas not exist");Mn.addEventListener("mousemove",(function(n){var e=n.offsetX-t.x,r=n.offsetY-t.y,o=180*Math.atan2(r,e)/Math.PI+90;t.rotation=o}));var n=[e,r],i=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,e=0;return function(){for(var r=this,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];(0===e||Date.now()-e>=t)&&(e=Date.now(),n.call(r,i))}}((function(){a=!0;var n=new sn(t.type,t.x,t.y,t.rotation);o.push(n),Fn.load(),Fn.play()}),500);Mn.addEventListener("mousedown",(function(t){var e=!1;n.forEach((function(n){n.down(t.offsetX,t.offsetY),n.inRect(t.offsetX,t.offsetY)&&(e=!0)})),!e&&i()})),Mn.addEventListener("mouseup",(function(t){n.forEach((function(n){n.up(t.offsetX,t.offsetY)}))}))}(),requestAnimationFrame((function f(){if(null===zn||null===Mn)throw new Error("Canvas or context not exit");var v=performance.now();0===d||v-1e3>d?(b&&(b.innerHTML="FPS：".concat(y)),d=v,y=0):y++,function(){if(1===m(1,20)&&i.length<30){var n=new z(m(0,4));n.y=m(n.height,Xn-100),0===m(0,2)?(n.x=-100,n.rotation=90):(n.x=In+100,n.rotation=-90),i.push(n)}}(),zn.clearRect(0,0,In,Xn),c=c.filter((function(n){return n.move(nn,tn),n.nextFrame(),n.draw(zn),!(Math.abs(n.x-nn)<5&&Math.abs(n.y-tn)<5&&(s+=10,1))})),n.draw(zn),i=i.filter((function(n){return n.swing(),n.move(),n.nextFrame(),n.draw(zn),!n.outOfRect(-100,-100,In+100,Xn+100)})),h=h.filter((function(n){return n.scale(),n.draw(zn),!(n.scaleX>1&&n.scaleY>1)})),o=o.filter((function(n){return n.move(),n.draw(zn),!n.outOfRect(-100,-100,In+100,Xn+100)})),a&&t.nextFrame()&&(a=!1),t.draw(zn),e.draw(zn),r.draw(zn),function(n){for(var t=s+"";t.length<6;)t="0"+t;u.forEach((function(e,r){e.setDrawRect(new S(p.imgs.number,0,24*(9-Number(t[r])),20,24)),e.draw(n)}))}(zn),l=l.filter((function(n){return n.move(n.distX,n.distY),n.draw(zn),!(Math.abs(n.y-n.distY)<5)})),i.forEach((function(n){n.isDead||(o=o.filter((function(t){return!n.collTest(t)||(Math.random()<10*(t.type+1)/(10+20*n.type)&&(n.isDead=!0,n.speed=0,setTimeout((function(){i=i.filter((function(t){return t!==n}));var t=n.type+1;[t,0,10].forEach((function(t,e){var r=new Tn(t,e,n.x,n.y);r.setDist(r.x,r.y-40),l.push(r)}));var e=t,r=setInterval((function(){var t=new pn(1,n.x,n.y,0);c.push(t),0==--e&&clearInterval(r)}),100)}),1e3)),h.push(new Sn(t.type,n.x,n.y)),!1)})))})),requestAnimationFrame(f)}))}())},f.onerror=function(){throw new Error("图片加载失败"+f.src)},f.src=String(u)},a=0,c=Object.entries({fish1:"images/fish1.png",fish2:"images/fish2.png",fish3:"images/fish3.png",fish4:"images/fish4.png",fish5:"images/fish5.png",coin1:"images/coinAni1.png",coin2:"images/coinAni2.png",cannon1:"images/cannon1.png",cannon2:"images/cannon2.png",cannon3:"images/cannon3.png",cannon4:"images/cannon4.png",cannon5:"images/cannon5.png",cannon6:"images/cannon6.png",cannon7:"images/cannon7.png",bottom:"images/bottom.png",bullet:"images/bullet.png",number:"images/number_black.png",web:"images/web.png",coinText:"images/coinText.png"});a<c.length;a++)i()}()})()})();